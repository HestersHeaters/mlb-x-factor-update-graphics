<div class='diffobj-container light yb'><pre class='diffobj-content'><div class='diffobj-row'><div class='diffobj-line banner'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-word delete'>orig_lines</span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line banner'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-word insert'>curr_lines</span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-header'>@@ 1,68 / 1,308 @@</div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Complete</span> <span class='diffobj-word delete'>R</span> <span class='diffobj-word delete'>code</span>: <span class='diffobj-word delete'>GT</span> <span class='diffobj-word delete'>table</span> <span class='diffobj-word delete'>with</span> <span class='diffobj-word delete'>conditional</span> <span class='diffobj-word delete'>formatting</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>borders</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>bold</span><span class='diffobj-word delete'>/large</span> <span class='diffobj-word delete'>headers</span><span class='diffobj-word delete'>,</span> logos<span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>and</span> <span class='diffobj-word delete'>Standing</span> <span class='diffobj-word delete'>row</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>=====================================================================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>File</span>: <span class='diffobj-word insert'>create_x_factor_update_graphics.R</span> <span class='diffobj-word insert'>(repo</span> <span class='diffobj-word insert'>root</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>Purpose</span><span class='diffobj-word insert'>:</span> <span class='diffobj-word insert'>Engines</span> <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>Teams</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>Hitters</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>Pitchers</span><span class='diffobj-word insert'>;</span> <span class='diffobj-word insert'>offline</span><span class='diffobj-word insert'>-stable:</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span>          <span class='diffobj-word insert'>local</span> <span class='diffobj-word insert'>quicksand</span> <span class='diffobj-word insert'>font</span> <span class='diffobj-word insert'>+</span> <span class='diffobj-word insert'>local</span> logos<span class='diffobj-word insert'>;</span> <span class='diffobj-word insert'>identical</span> <span class='diffobj-word insert'>visuals.</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>=====================================================================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>suppressPackageStartupMessages</span><span class='diffobj-word insert'>({</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>library(dplyr)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>library</span><span class='diffobj-word delete'>(gt)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>library(purrr)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>library<span class='diffobj-word delete'>(htmltools)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  library<span class='diffobj-word insert'>(tidyr)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>library<span class='diffobj-word delete'>(webshot2)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  library<span class='diffobj-word insert'>(gt)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(readxl)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(glue)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(withr)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(R.utils)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(magick)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(rlang)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>library</span><span class='diffobj-word insert'>(digest)</span>   <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>base64enc</span> <span class='diffobj-word insert'>is</span> <span class='diffobj-word insert'>optional</span><span class='diffobj-word insert'>;</span> <span class='diffobj-word insert'>used</span> <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>font</span> <span class='diffobj-word insert'>embedding</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>present</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>})</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Starting</span> <span class='diffobj-word delete'>dataset</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>Team_Records_End_of_Season_2025</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>1:</span> <span class='diffobj-word delete'>Extract</span> <span class='diffobj-word delete'>League</span> <span class='diffobj-word delete'>&amp;</span> <span class='diffobj-word delete'>Division</span> <span class='diffobj-word delete'>rows</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>league_row</span>   <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>df</span><span class='diffobj-word delete'>[1,</span> <span class='diffobj-word delete'>-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>division_row</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>df</span><span class='diffobj-word delete'>[2,</span> <span class='diffobj-word delete'>-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>team_names</span>   <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>names</span><span class='diffobj-word delete'>(df)[-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>----------------------------</span> <span class='diffobj-word insert'>Determinism</span> <span class='diffobj-word insert'>-----------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>2:</span> <span class='diffobj-word delete'>Identify</span> <span class='diffobj-word delete'>NL</span> <span class='diffobj-word delete'>West</span> <span class='diffobj-word delete'>team</span> <span class='diffobj-word delete'>columns</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>division_cols</span> &lt;- <span class='diffobj-word delete'>which</span><span class='diffobj-word delete'>(league_row</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"NL"</span> <span class='diffobj-word delete'>&amp;</span> <span class='diffobj-word delete'>division_row</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"W"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>deterministic_session</span> &lt;- <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>withr</span><span class='diffobj-word insert'>::local_locale(c(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"LC_TIME"</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"en_US.UTF-8"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"LC_COLLATE"</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"en_US.UTF-8"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"LC_NUMERIC"</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"C"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>withr</span><span class='diffobj-word insert'>::local_timezone(</span><span class='diffobj-word insert'>"America/New_York"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>set.seed</span><span class='diffobj-word insert'>(12345)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>options</span><span class='diffobj-word insert'>(stringsAsFactors</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>scipen</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>999)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>3:</span> <span class='diffobj-word delete'>Subset</span> <span class='diffobj-word delete'>stats</span> <span class='diffobj-word delete'>rows</span> <span class='diffobj-word delete'>and</span> <span class='diffobj-word delete'>keep</span> <span class='diffobj-word delete'>Stat</span> <span class='diffobj-word delete'>+</span> <span class='diffobj-word delete'>NL</span> <span class='diffobj-word delete'>West</span> <span class='diffobj-word delete'>team</span> <span class='diffobj-word delete'>columns</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>df</span><span class='diffobj-word delete'>[-c(1,</span> <span class='diffobj-word delete'>2),</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(1,</span> <span class='diffobj-word delete'>division_cols</span> <span class='diffobj-word delete'>+</span> <span class='diffobj-word delete'>1)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>colnames</span><span class='diffobj-word delete'>(filtered_df)</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"Team"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>team_names</span><span class='diffobj-word delete'>[division_cols])</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>4:</span> <span class='diffobj-word delete'>Filter</span> <span class='diffobj-word delete'>to</span> <span class='diffobj-word delete'>selected</span> <span class='diffobj-word delete'>stats</span> <span class='diffobj-word delete'>+</span> <span class='diffobj-word delete'>Standing</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>keep_stats</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"Standing"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Current Record"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Proj Record"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Wins vs. Proj"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"CP %"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Proj Playoff %"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>%&gt;%</span> <span class='diffobj-word delete'>filter</span><span class='diffobj-word delete'>(Team</span> <span class='diffobj-word delete'>%in%</span> <span class='diffobj-word delete'>keep_stats</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>-----------------------------</span> <span class='diffobj-word insert'>Backend</span> <span class='diffobj-word insert'>--------------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>5:</span> <span class='diffobj-word delete'>Format</span> <span class='diffobj-word delete'>Wins</span> <span class='diffobj-word delete'>vs.</span> <span class='diffobj-word delete'>Proj</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>row_index</span> &lt;- <span class='diffobj-word delete'>which</span><span class='diffobj-word delete'>(filtered_df$Team</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"Wins vs. Proj"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>numeric_vals</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>round</span><span class='diffobj-word delete'>(as.numeric(unlist(filtered_df[row_index,</span> <span class='diffobj-word delete'>-1])))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>formatted_vals</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>ifelse</span><span class='diffobj-word delete'>(numeric_vals</span> <span class='diffobj-word delete'>&gt;</span> <span class='diffobj-word delete'>0,</span> <span class='diffobj-word delete'>paste0</span>(<span class='diffobj-word delete'>"+"</span>, <span class='diffobj-word delete'>numeric_vals</span><span class='diffobj-word delete'>),</span> <span class='diffobj-word delete'>as.character</span><span class='diffobj-word delete'>(numeric_vals))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span><span class='diffobj-word delete'>[row_index,</span> <span class='diffobj-word delete'>-1]</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>as.list</span><span class='diffobj-word delete'>(formatted_vals)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>ensure_png_backend</span> &lt;- <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(requireNamespace(</span><span class='diffobj-word insert'>"webshot2"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span>) <span class='diffobj-word insert'>&amp;&amp;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>requireNamespace</span>(<span class='diffobj-word insert'>"chromote"</span>, <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>&amp;&amp;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>isTRUE</span><span class='diffobj-word insert'>(tryCatch(!is.null(chromote::find_chrome()),</span> <span class='diffobj-word insert'>error</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(e)</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(</span><span class='diffobj-word insert'>"webshot2+chromote"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(requireNamespace(</span><span class='diffobj-word insert'>"webshot"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>nzchar</span><span class='diffobj-word insert'>(Sys.which(</span><span class='diffobj-word insert'>"phantomjs"</span><span class='diffobj-word insert'>)))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(</span><span class='diffobj-word insert'>"webshot+phantomjs"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(paste(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"PNG export needs either:"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"  • webshot2 + chromote + Chrome/Chromium (recommended), or"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"  • webshot + PhantomJS (legacy)."</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"Fix: renv::install(c('webshot2','chromote')); then install Google Chrome."</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>sep</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"\n"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>6:</span> <span class='diffobj-word delete'>Add</span> <span class='diffobj-word delete'>Playoff</span> <span class='diffobj-word delete'>%</span> <span class='diffobj-word delete'>Difference</span> <span class='diffobj-word delete'>row</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>cp_vals</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>as.numeric</span><span class='diffobj-word delete'>(unlist(df[df[[1]]</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"CP %"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>division_cols</span> <span class='diffobj-word delete'>+</span> <span class='diffobj-word delete'>1]))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>proj_vals</span> &lt;- <span class='diffobj-word delete'>as.numeric</span><span class='diffobj-word delete'>(unlist(df[df[[1]]</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"Proj Playoff %"</span>, <span class='diffobj-word delete'>division_cols</span> <span class='diffobj-word delete'>+</span> <span class='diffobj-word delete'>1]))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>playoff_diff</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>round</span><span class='diffobj-word delete'>((cp_vals</span> <span class='diffobj-word delete'>-</span> <span class='diffobj-word delete'>proj_vals</span>) <span class='diffobj-word delete'>*</span> <span class='diffobj-word delete'>100,</span> <span class='diffobj-word delete'>1)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>playoff_diff_fmt</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>ifelse</span><span class='diffobj-word delete'>(playoff_diff</span> <span class='diffobj-word delete'>&gt;</span> <span class='diffobj-word delete'>0,</span> <span class='diffobj-word delete'>paste0</span>(<span class='diffobj-word delete'>"+"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>playoff_diff</span>, <span class='diffobj-word delete'>"%"</span><span class='diffobj-word delete'>),</span> <span class='diffobj-word delete'>paste0</span><span class='diffobj-word delete'>(playoff_diff,</span> <span class='diffobj-word delete'>"%"</span><span class='diffobj-word delete'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>playoff_diff_row</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"Playoff % Diff"</span>, <span class='diffobj-word delete'>playoff_diff_fmt</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>bind_rows</span><span class='diffobj-word delete'>(filtered_df,</span> <span class='diffobj-word delete'>setNames</span><span class='diffobj-word delete'>(as.list(playoff_diff_row),</span> <span class='diffobj-word delete'>names</span><span class='diffobj-word delete'>(filtered_df)))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>detect_png_backend</span> &lt;- <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(requireNamespace(</span><span class='diffobj-word insert'>"webshot2"</span>, <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span>) <span class='diffobj-word insert'>&amp;&amp;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>requireNamespace</span>(<span class='diffobj-word insert'>"chromote"</span>, <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>&amp;&amp;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>isTRUE</span><span class='diffobj-word insert'>(tryCatch(!is.null(chromote::find_chrome()),</span> <span class='diffobj-word insert'>error</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(e)</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"webshot2+chromote"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(requireNamespace(</span><span class='diffobj-word insert'>"webshot"</span>, <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span>) <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>nzchar</span><span class='diffobj-word insert'>(Sys.which(</span><span class='diffobj-word insert'>"phantomjs"</span><span class='diffobj-word insert'>)))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"webshot+phantomjs"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"none"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>7:</span> <span class='diffobj-word delete'>Format</span> <span class='diffobj-word delete'>CP</span> <span class='diffobj-word delete'>%</span> <span class='diffobj-word delete'>and</span> <span class='diffobj-word delete'>Proj</span> <span class='diffobj-word delete'>Playoff</span> <span class='diffobj-word delete'>%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>for</span> <span class='diffobj-word delete'>(row_label</span> <span class='diffobj-word delete'>in</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"CP %"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Proj Playoff %"</span><span class='diffobj-word delete'>))</span> <span class='diffobj-word delete'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>idx</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>which</span><span class='diffobj-word delete'>(filtered_df$Team</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>row_label</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>vals</span> &lt;- <span class='diffobj-word delete'>as.numeric</span><span class='diffobj-word delete'>(unlist(filtered_df[idx,</span> <span class='diffobj-word delete'>-1]))</span> <span class='diffobj-word delete'>*</span> <span class='diffobj-word delete'>100</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>formatted</span> &lt;- <span class='diffobj-word delete'>paste0</span><span class='diffobj-word delete'>(round(vals,</span> <span class='diffobj-word delete'>1),</span> <span class='diffobj-word delete'>"%"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>filtered_df</span><span class='diffobj-word delete'>[idx,</span> <span class='diffobj-word delete'>-1]</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>as.list</span><span class='diffobj-word delete'>(formatted)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>-------------------------</span> <span class='diffobj-word insert'>File</span> <span class='diffobj-word insert'>System</span> <span class='diffobj-word insert'>Utils</span> <span class='diffobj-word insert'>-------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>ensure_parent_dir</span> &lt;- <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(path)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dir</span> &lt;- <span class='diffobj-word insert'>dirname</span><span class='diffobj-word insert'>(path)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!dir.exists(dir))</span> <span class='diffobj-word insert'>dir.create</span><span class='diffobj-word insert'>(dir,</span> <span class='diffobj-word insert'>recursive</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>showWarnings</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>}<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>8:</span> <span class='diffobj-word delete'>Reorder</span> <span class='diffobj-word delete'>rows</span> <span class='diffobj-word delete'>to</span> <span class='diffobj-word delete'>put</span> <span class='diffobj-word delete'>Standing</span> <span class='diffobj-word delete'>at</span> <span class='diffobj-word delete'>top</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>row_order</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"Standing"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Current Record"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Proj Record"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Wins vs. Proj"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"CP %"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Proj Playoff %"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>"Playoff % Diff"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>mutate</span><span class='diffobj-word delete'>(row_factor</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>factor</span><span class='diffobj-word delete'>(Team,</span> <span class='diffobj-word delete'>levels</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>row_order</span><span class='diffobj-word delete'>))</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>arrange</span><span class='diffobj-word delete'>(row_factor)</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>select</span><span class='diffobj-word delete'>(-row_factor)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>9:</span> <span class='diffobj-word delete'>Reorder</span> <span class='diffobj-word delete'>team</span> <span class='diffobj-word delete'>columns</span> <span class='diffobj-word delete'>by</span> <span class='diffobj-word delete'>Standing</span> <span class='diffobj-word delete'>rank</span> <span class='diffobj-word delete'>(ordinal:</span> <span class='diffobj-word delete'>1st,</span> <span class='diffobj-word delete'>2nd,</span> <span class='diffobj-word delete'>etc.</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>ordinal_to_numeric</span> &lt;- function<span class='diffobj-word delete'>(x)</span> <span class='diffobj-word delete'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>as.numeric</span><span class='diffobj-word delete'>(sub(</span><span class='diffobj-word delete'>"(st|nd|rd|th)"</span>, <span class='diffobj-word delete'>""</span>, <span class='diffobj-word delete'>x</span><span class='diffobj-word delete'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>----------------------</span> <span class='diffobj-word insert'>Baseline</span> <span class='diffobj-word insert'>(HTML</span> <span class='diffobj-word insert'>Hash</span>) <span class='diffobj-word insert'>-------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>compute_sha256</span> &lt;- function<span class='diffobj-word insert'>(path)</span> <span class='diffobj-word insert'>digest</span><span class='diffobj-word insert'>::digest(file</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>path</span>, <span class='diffobj-word insert'>algo</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"sha256"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>write_html_baseline</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(rendered_html,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dir.create</span><span class='diffobj-word insert'>(dirname(baseline_path),</span> <span class='diffobj-word insert'>recursive</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span>, <span class='diffobj-word insert'>showWarnings</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>sha</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>compute_sha256</span><span class='diffobj-word insert'>(rendered_html)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>writeLines</span><span class='diffobj-word insert'>(sha,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(sha)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>}<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>standing_row</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>%&gt;%</span> <span class='diffobj-word delete'>filter</span><span class='diffobj-word delete'>(Team</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"Standing"</span><span class='diffobj-word delete'>)</span> <span class='diffobj-word delete'>%&gt;%</span> <span class='diffobj-word delete'>select</span><span class='diffobj-word delete'>(-Team)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>team_order</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>colnames</span><span class='diffobj-word delete'>(standing_row)[order(sapply(standing_row[1,</span> <span class='diffobj-word delete'>],</span> <span class='diffobj-word delete'>ordinal_to_numeric</span><span class='diffobj-word delete'>))]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>filtered_df</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>filtered_df</span><span class='diffobj-word delete'>[,</span> <span class='diffobj-word delete'>c</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"Team"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>team_order</span><span class='diffobj-word delete'>)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>10:</span> <span class='diffobj-word delete'>Team</span> <span class='diffobj-word delete'>logos</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>mlb_logos</span> &lt;- c(<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>maybe_check_html_baseline</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(rendered_html,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(is.na(baseline_path))</span> <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(TRUE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!file.exists(baseline_path))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>write_html_baseline</span><span class='diffobj-word insert'>(rendered_html,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span>  # <span class='diffobj-word insert'>first</span> <span class='diffobj-word insert'>run</span> <span class='diffobj-word insert'>auto</span><span class='diffobj-word insert'>-init</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(TRUE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>cur</span>  <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>compute_sha256</span><span class='diffobj-word insert'>(rendered_html)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>base</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>readLines</span><span class='diffobj-word insert'>(baseline_path,</span> <span class='diffobj-word insert'>warn</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!identical(cur,</span> <span class='diffobj-word insert'>base</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"❌ Drift detected vs baseline. Re-run write_html_baseline() if intentional."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(TRUE)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>----------------------</span> <span class='diffobj-word insert'>Baseline</span> <span class='diffobj-word insert'>(PNG</span> <span class='diffobj-word insert'>Hash</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>--------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>compute_sha256_file</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(path)</span> <span class='diffobj-word insert'>digest</span><span class='diffobj-word insert'>::digest(file</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>path</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>algo</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"sha256"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>write_baseline_file</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(rendered_png,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dir.create</span><span class='diffobj-word insert'>(dirname(baseline_path),</span> <span class='diffobj-word insert'>recursive</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>showWarnings</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>sha</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>compute_sha256_file</span><span class='diffobj-word insert'>(rendered_png)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>writeLines</span><span class='diffobj-word insert'>(sha,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(sha)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>maybe_check_baseline_file</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(rendered_png,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(is.na(baseline_path))</span> <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(TRUE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!file.exists(baseline_path))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>First</span> <span class='diffobj-word insert'>run</span><span class='diffobj-word insert'>:</span> <span class='diffobj-word insert'>auto</span><span class='diffobj-word insert'>-initialize</span> <span class='diffobj-word insert'>to</span> <span class='diffobj-word insert'>current</span> <span class='diffobj-word insert'>PNG</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>write_baseline_file</span><span class='diffobj-word insert'>(rendered_png,</span> <span class='diffobj-word insert'>baseline_path</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(TRUE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>cur</span>  <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>compute_sha256_file</span><span class='diffobj-word insert'>(rendered_png)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>base</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>readLines</span><span class='diffobj-word insert'>(baseline_path,</span> <span class='diffobj-word insert'>warn</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!identical(cur,</span> <span class='diffobj-word insert'>base</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"❌ Drift detected vs baseline. Re-run write_baseline_file() if intentional."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(TRUE)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>----------------------</span> <span class='diffobj-word insert'>Data</span><span class='diffobj-word insert'>-URI</span> <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>Local</span> <span class='diffobj-word insert'>Images</span> <span class='diffobj-word insert'>--------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>to_data_uri</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(path)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>stopifnot</span><span class='diffobj-word insert'>(file.exists(path))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!requireNamespace(</span><span class='diffobj-word insert'>"base64enc"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Install 'base64enc' to embed logos."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>mime</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>"image/png"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>base64enc</span><span class='diffobj-word insert'>::dataURI(file</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>path</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>mime</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>mime</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>is_http_url</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>is.character</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>grepl</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"^https?://"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>ignore.case</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>-----------------------</span> <span class='diffobj-word insert'>Image</span> <span class='diffobj-word insert'>Post</span><span class='diffobj-word insert'>-Processing</span> <span class='diffobj-word insert'>-----------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>normalize_png</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(in_path,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>out_path</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>target_w</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>target_h</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>gravity</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"north"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>trim_white</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>trim_fuzz</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"3%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                          <span class='diffobj-word insert'>preserve_edges</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>img</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_read</span><span class='diffobj-word insert'>(in_path)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>img</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_background</span><span class='diffobj-word insert'>(img,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>color</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>flatten</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(trim_white)</span> <span class='diffobj-word insert'>img</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_trim</span><span class='diffobj-word insert'>(img,</span> <span class='diffobj-word insert'>fuzz</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>trim_fuzz</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>info</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_info</span><span class='diffobj-word insert'>(img)[1,</span> <span class='diffobj-word insert'>]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>info</span><span class='diffobj-word insert'>$width</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>info</span><span class='diffobj-word insert'>$height</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(any(is.na(c(w,</span> <span class='diffobj-word insert'>h</span><span class='diffobj-word insert'>)))</span> <span class='diffobj-word insert'>||</span> <span class='diffobj-word insert'>w</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>0</span> <span class='diffobj-word insert'>||</span> <span class='diffobj-word insert'>h</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>0)</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Bad image size."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>s</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>min</span><span class='diffobj-word insert'>(target_w</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>w</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>target_h</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>h</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>new_w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>max</span><span class='diffobj-word insert'>(1L,</span> <span class='diffobj-word insert'>as.integer</span><span class='diffobj-word insert'>(round(w</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>s</span><span class='diffobj-word insert'>)))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>new_h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>max</span><span class='diffobj-word insert'>(1L,</span> <span class='diffobj-word insert'>as.integer</span><span class='diffobj-word insert'>(round(h</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>s</span><span class='diffobj-word insert'>)))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>img_out</span> &lt;- <span class='diffobj-word insert'>image_resize</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>img</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(new_w,</span> <span class='diffobj-word insert'>"x"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>new_h</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"!"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>filter</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(preserve_edges)</span> <span class='diffobj-word insert'>"point"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>NULL</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>|&gt;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>image_extent</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(target_w,</span> <span class='diffobj-word insert'>"x"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>target_h</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>gravity</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gravity</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>color</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>|&gt;</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>image_strip</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>image_write</span><span class='diffobj-word insert'>(img_out,</span> <span class='diffobj-word insert'>out_path</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>add_inner_keyline</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(path,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>lwd</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>1)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>img</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_read</span><span class='diffobj-word insert'>(path)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_info</span><span class='diffobj-word insert'>(img)$width</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_info</span><span class='diffobj-word insert'>(img)$height</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>d</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_draw</span><span class='diffobj-word insert'>(img)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>rect</span><span class='diffobj-word insert'>(0,</span> <span class='diffobj-word insert'>0,</span> <span class='diffobj-word insert'>w</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>1,</span> <span class='diffobj-word insert'>h</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>1,</span> <span class='diffobj-word insert'>border</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>color</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>lwd</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>lwd</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dev.off</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>d</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>image_strip</span><span class='diffobj-word insert'>(d)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>image_write</span><span class='diffobj-word insert'>(d,</span> <span class='diffobj-word insert'>path</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>-------------------</span> <span class='diffobj-word insert'>Robust</span> <span class='diffobj-word insert'>Local</span> <span class='diffobj-word insert'>Quicksand</span> <span class='diffobj-word insert'>Embed</span> <span class='diffobj-word insert'>--------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>locate_quicksand_local</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>cands</span> <span class='diffobj-word insert'>&lt;-</span> c<span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>canonical</span> <span class='diffobj-word insert'>(no</span> <span class='diffobj-word insert'>/static)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Regular.woff2"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Bold.woff2"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Regular.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Bold.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span>(<span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-VariableFont_wght.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>legacy</span> <span class='diffobj-word insert'>with</span> <span class='diffobj-word insert'>/static</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Regular.woff2"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Bold.woff2"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Regular.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"assets"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Bold.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>older</span> <span class='diffobj-word insert'>roots</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Regular.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"static"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-Bold.ttf"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>file.path</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"quicksand_font"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Quicksand-VariableFont_wght.ttf"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>existing</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>cands</span><span class='diffobj-word insert'>[file.exists(cands)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!length(existing))</span> <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(NULL)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>pick</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(patterns)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>(p</span> <span class='diffobj-word insert'>in</span> <span class='diffobj-word insert'>patterns</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>hit</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>existing</span><span class='diffobj-word insert'>[grepl(p,</span> <span class='diffobj-word insert'>basename</span><span class='diffobj-word insert'>(existing),</span> <span class='diffobj-word insert'>ignore.case</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(length(hit))</span> <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(hit[1L])</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>NULL</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>reg</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>pick</span><span class='diffobj-word insert'>(c(</span><span class='diffobj-word insert'>"Regular\\.woff2$"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Regular\\.ttf$"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"VariableFont_wght\\.ttf$"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>bld</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>pick</span><span class='diffobj-word insert'>(c(</span><span class='diffobj-word insert'>"Bold\\.woff2$"</span><span class='diffobj-word insert'>,</span>    <span class='diffobj-word insert'>"Bold\\.ttf$"</span><span class='diffobj-word insert'>,</span>    <span class='diffobj-word insert'>"VariableFont_wght\\.ttf$"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>to_mime</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(p)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>ext</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>tolower</span><span class='diffobj-word insert'>(tools::file_ext(p))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(ext</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"woff2"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>"font/woff2"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>"font/ttf"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>regular</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(reg))</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(path</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>reg</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>mime</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>to_mime</span><span class='diffobj-word insert'>(reg))</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>NULL</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>bold</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(bld))</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(path</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>bld</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>mime</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>to_mime</span><span class='diffobj-word insert'>(bld))</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>NULL</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>embed_quicksand_or_fallback</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(tbl)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>lf</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>locate_quicksand_local</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>has_b64</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>requireNamespace</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"base64enc"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(lf)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>has_b64</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>(!is.null(lf$regular)</span> <span class='diffobj-word insert'>||</span> <span class='diffobj-word insert'>!is.null(lf$bold)))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>to_data</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>base64enc</span><span class='diffobj-word insert'>::dataURI(file</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>$path,</span> <span class='diffobj-word insert'>mime</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>$mime)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>reg_uri</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(lf$regular))</span> <span class='diffobj-word insert'>to_data</span><span class='diffobj-word insert'>(lf$regular)</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>NULL</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>bld_uri</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(lf$bold))</span> <span class='diffobj-word insert'>to_data</span><span class='diffobj-word insert'>(lf$bold)</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>NULL</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>parts</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(reg_uri))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>parts</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(parts,</span> <span class='diffobj-word insert'>sprintf</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"@font-face{font-family:'QuicksandLocal';src:url('%s') format('%s');font-weight:400;font-style:normal;font-display:swap;}"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>reg_uri</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(grepl(</span><span class='diffobj-word insert'>"woff2"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>reg_uri</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>"woff2"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>"truetype"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(bld_uri))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>parts</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(parts,</span> <span class='diffobj-word insert'>sprintf</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"@font-face{font-family:'QuicksandLocal';src:url('%s') format('%s');font-weight:700;font-style:normal;font-display:swap;}"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>bld_uri</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(grepl(</span><span class='diffobj-word insert'>"woff2"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>bld_uri</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>"woff2"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>"truetype"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>parts</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>parts</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>"html, body{font-family:'QuicksandLocal', sans-serif;}"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>".gt_table, .gt_heading, .gt_title, .gt_subtitle, .gt_col_headings, .gt_sourcenotes, .gt_from_md{font-family:'QuicksandLocal', sans-serif;}"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>".gt_table *, .gt_heading *, .gt_col_headings *, .gt_sourcenotes *{font-family:'QuicksandLocal', sans-serif;}"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>".gt_table, .gt_table *, .gt_heading, .gt_heading *, .gt_col_headings, .gt_col_headings *, .gt_sourcenotes, .gt_sourcenotes *{font-weight:700;}"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>css</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>paste</span><span class='diffobj-word insert'>(parts,</span> <span class='diffobj-word insert'>collapse</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"\n"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(utils::packageVersion(</span><span class='diffobj-word insert'>"gt"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>"0.9.0"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(gt::opt_css(tbl,</span> <span class='diffobj-word insert'>css</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(gt::tab_options(tbl,</span> <span class='diffobj-word insert'>table.additional_css</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>css</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::opt_table_font(tbl,</span> <span class='diffobj-word insert'>font</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(gt::google_font(</span><span class='diffobj-word insert'>"Quicksand"</span><span class='diffobj-word insert'>),</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::default_fonts()),</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>verify_local_font</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>lf</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>locate_quicksand_local</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>has_b64</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>requireNamespace</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"base64enc"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>quietly</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(is.null(lf))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>message</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"⚠️ Font: no local Quicksand found → using google_font('Quicksand')."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(FALSE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>reg</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(lf$regular))</span> <span class='diffobj-word insert'>basename</span><span class='diffobj-word insert'>(lf$regular$path)</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>"-"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>bld</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.null(lf$bold))</span> <span class='diffobj-word insert'>basename</span><span class='diffobj-word insert'>(lf$bold$path)</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>"-"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!has_b64)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>message</span><span class='diffobj-word insert'>(sprintf(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>"⚠️ Font: local files found (Regular: %s, Bold: %s) but 'base64enc' not installed → falling back to google_font."</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>reg</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>bld</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(invisible(FALSE))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>message</span><span class='diffobj-word insert'>(sprintf(</span><span class='diffobj-word insert'>"✅ Font: embedding local Quicksand (Regular: %s, Bold: %s)."</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>reg</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>bld</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(TRUE)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>---------------------------</span> <span class='diffobj-word insert'>Logos</span> <span class='diffobj-word insert'>Mapping</span> <span class='diffobj-word insert'>---------------------------</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>get_logo_map</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>local_dir</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>"assets/mlb"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>abbrs</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"ARI"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"ATL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"BAL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"BOS"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CHC"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CHW"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CIN"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CLE"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"COL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"DET"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"HOU"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"KCR"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"LAA"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"LAD"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"MIA"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"MIL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"MIN"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"NYM"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"NYY"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"ATH"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"PHI"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"PIT"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"SDP"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"SEA"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"SFG"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"STL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"TBR"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"TEX"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"TOR"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"WSN"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>local_paths</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>setNames</span><span class='diffobj-word insert'>(file.path(local_dir,</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(tolower(abbrs),</span> <span class='diffobj-word insert'>".png"</span><span class='diffobj-word insert'>)),</span> <span class='diffobj-word insert'>abbrs</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(all(file.exists(local_paths)))</span> <span class='diffobj-word insert'>return</span><span class='diffobj-word insert'>(local_paths)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ARI = "https://a.espncdn.com/i/teamlogos/mlb/500/ari.png",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ATL = "https://a.espncdn.com/i/teamlogos/mlb/500/atl.png",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-header'>@@ 96,12 / 336,86 @@</div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  WSN = "https://a.espncdn.com/i/teamlogos/mlb/500/wsh.png"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>header_with_logos</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>map</span><span class='diffobj-word delete'>(team_order,</span> <span class='diffobj-word delete'>~html(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>paste0</span><span class='diffobj-word delete'>('&lt;div</span> <span class='diffobj-word delete'>style</span><span class='diffobj-word delete'>=</span><span class='diffobj-word delete'>"</span><span class='diffobj-word delete'>text</span><span class='diffobj-word delete'>-align:center;</span> <span class='diffobj-word delete'>font</span><span class='diffobj-word delete'>-weight:bold;</span> <span class='diffobj-word delete'>font</span><span class='diffobj-word delete'>-size:20px;</span><span class='diffobj-word delete'>"</span><span class='diffobj-word delete'>&gt;',</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>         <span class='diffobj-word delete'>'&lt;img</span> <span class='diffobj-word delete'>src</span><span class='diffobj-word delete'>=</span><span class='diffobj-word delete'>"</span><span class='diffobj-word delete'>',</span> <span class='diffobj-word delete'>mlb_logos</span><span class='diffobj-word delete'>[.x],</span> <span class='diffobj-word delete'>'</span><span class='diffobj-word delete'>"</span> <span class='diffobj-word delete'>height</span><span class='diffobj-word delete'>=50&gt;&lt;br&gt;&lt;span&gt;',</span> <span class='diffobj-word delete'>.x</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>'&lt;/span&gt;&lt;/div&gt;')</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>))</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>set_names</span><span class='diffobj-word delete'>(team_order)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span># <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>11:</span> <span class='diffobj-word delete'>Table</span> <span class='diffobj-word delete'>Creation</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>gt_table &lt;- gt<span class='diffobj-word delete'>(filtered_df</span> %&gt;% <span class='diffobj-word delete'>mutate</span><span class='diffobj-word delete'>(Team</span> = <span class='diffobj-word delete'>recode</span><span class='diffobj-word delete'>(Team,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>is_http_url</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>is.character</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>grepl</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"^https?://"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>ignore.case</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>to_file_url</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(path)</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"file://"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>normalizePath</span><span class='diffobj-word insert'>(path,</span> <span class='diffobj-word insert'>winslash</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"/"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>mustWork</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span># <span class='diffobj-word insert'>============================</span> <span class='diffobj-word insert'>TEAMS</span> <span class='diffobj-word insert'>BUILDER</span> <span class='diffobj-word insert'>===========================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>compute_team_order</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(filtered_df)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>stand</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::filter(Team</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"Standing"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(-Team)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>ord_to_num</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>suppressWarnings</span><span class='diffobj-word insert'>(as.numeric(sub(</span><span class='diffobj-word insert'>"(st|nd|rd|th)$"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>""</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>as.character</span><span class='diffobj-word insert'>(x))))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>ranks</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>vapply</span><span class='diffobj-word insert'>(stand[1,</span> <span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>drop</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>],</span> <span class='diffobj-word insert'>ord_to_num</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>numeric</span><span class='diffobj-word insert'>(1))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>colnames</span><span class='diffobj-word insert'>(stand)[order(ranks)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>build_teams_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(df_input,</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"NL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"W"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>toupper</span><span class='diffobj-word insert'>(league)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>toupper</span><span class='diffobj-word insert'>(division)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df_input</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>league_row</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df</span><span class='diffobj-word insert'>[1,</span> <span class='diffobj-word insert'>-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>division_row</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df</span><span class='diffobj-word insert'>[2,</span> <span class='diffobj-word insert'>-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>team_names</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>names</span><span class='diffobj-word insert'>(df)[-1]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>division_cols</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>which</span><span class='diffobj-word insert'>(league_row</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>&amp;</span> <span class='diffobj-word insert'>division_row</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!length(division_cols))</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(glue(</span><span class='diffobj-word insert'>"No {league} {division} team columns found."</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df</span><span class='diffobj-word insert'>[-c(1,</span> <span class='diffobj-word insert'>2),</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(1,</span> <span class='diffobj-word insert'>division_cols</span> <span class='diffobj-word insert'>+</span> <span class='diffobj-word insert'>1)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>colnames</span><span class='diffobj-word insert'>(filtered_df)</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Team"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>team_names</span><span class='diffobj-word insert'>[division_cols])</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>keep_stats</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Standing"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Current Record"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Proj Record"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Wins vs. Proj"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CP %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Proj Playoff %"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>%&gt;%</span> <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::filter(Team</span> <span class='diffobj-word insert'>%in%</span> <span class='diffobj-word insert'>keep_stats</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>row_index</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>which</span><span class='diffobj-word insert'>(filtered_df$Team</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"Wins vs. Proj"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(length(row_index)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>1)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>numeric_vals</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>round</span><span class='diffobj-word insert'>(as.numeric(unlist(filtered_df[row_index,</span> <span class='diffobj-word insert'>-1])))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>formatted_vals</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>ifelse</span><span class='diffobj-word insert'>(numeric_vals</span> <span class='diffobj-word insert'>&gt;</span> <span class='diffobj-word insert'>0,</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"+"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>numeric_vals</span><span class='diffobj-word insert'>),</span> <span class='diffobj-word insert'>as.character</span><span class='diffobj-word insert'>(numeric_vals))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>filtered_df</span><span class='diffobj-word insert'>[row_index,</span> <span class='diffobj-word insert'>-1]</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>as.list</span><span class='diffobj-word insert'>(formatted_vals)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>cp_vals</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>as.numeric</span><span class='diffobj-word insert'>(unlist(df[df[[1]]</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"CP %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division_cols</span> <span class='diffobj-word insert'>+</span> <span class='diffobj-word insert'>1]))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>proj_vals</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>as.numeric</span><span class='diffobj-word insert'>(unlist(df[df[[1]]</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"Proj Playoff %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division_cols</span> <span class='diffobj-word insert'>+</span> <span class='diffobj-word insert'>1]))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>playoff_diff</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>round</span><span class='diffobj-word insert'>((cp_vals</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>proj_vals</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>100,</span> <span class='diffobj-word insert'>1)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>playoff_diff_fmt</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>ifelse</span><span class='diffobj-word insert'>(playoff_diff</span> <span class='diffobj-word insert'>&gt;</span> <span class='diffobj-word insert'>0,</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"+"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>playoff_diff</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"%"</span><span class='diffobj-word insert'>),</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(playoff_diff,</span> <span class='diffobj-word insert'>"%"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>playoff_diff_row</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Playoff % Diff"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>playoff_diff_fmt</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::bind_rows(filtered_df,</span> <span class='diffobj-word insert'>setNames</span><span class='diffobj-word insert'>(as.list(playoff_diff_row),</span> <span class='diffobj-word insert'>names</span><span class='diffobj-word insert'>(filtered_df)))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>(row_label</span> <span class='diffobj-word insert'>in</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"CP %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Proj Playoff %"</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>idx</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>which</span><span class='diffobj-word insert'>(filtered_df$Team</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>row_label</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(length(idx)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>1)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>vals</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>as.numeric</span><span class='diffobj-word insert'>(unlist(filtered_df[idx,</span> <span class='diffobj-word insert'>-1]))</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>100</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>formatted</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>paste0</span><span class='diffobj-word insert'>(round(vals,</span> <span class='diffobj-word insert'>1),</span> <span class='diffobj-word insert'>"%"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>filtered_df</span><span class='diffobj-word insert'>[idx,</span> <span class='diffobj-word insert'>-1]</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>as.list</span><span class='diffobj-word insert'>(formatted)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>row_order</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Standing"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Current Record"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Proj Record"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Wins vs. Proj"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"CP %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Proj Playoff %"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"Playoff % Diff"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(row_factor</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>factor</span><span class='diffobj-word insert'>(Team,</span> <span class='diffobj-word insert'>levels</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>row_order</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::arrange(row_factor)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(-row_factor)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>team_order</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>compute_team_order</span><span class='diffobj-word insert'>(filtered_df)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>filtered_df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>filtered_df</span><span class='diffobj-word insert'>[,</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Team"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>team_order</span><span class='diffobj-word insert'>)]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>logos</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>get_logo_map</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>logo_src</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>vapply</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>names</span><span class='diffobj-word insert'>(logos),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(k)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>p</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>logos</span><span class='diffobj-word insert'>[[k]]</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is_http_url(p)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>file.exists</span><span class='diffobj-word insert'>(p))</span> <span class='diffobj-word insert'>to_data_uri</span><span class='diffobj-word insert'>(p)</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>p</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>},</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>FUN.VALUE</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>character</span><span class='diffobj-word insert'>(1)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>header_with_logos</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>purrr</span><span class='diffobj-word insert'>::map(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>team_order</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>~gt::html(paste0(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>'&lt;div</span> <span class='diffobj-word insert'>style</span><span class='diffobj-word insert'>=</span><span class='diffobj-word insert'>"</span><span class='diffobj-word insert'>text</span><span class='diffobj-word insert'>-align:center;</span> <span class='diffobj-word insert'>font</span><span class='diffobj-word insert'>-weight:bold;</span> <span class='diffobj-word insert'>font</span><span class='diffobj-word insert'>-size:20px;</span><span class='diffobj-word insert'>"</span><span class='diffobj-word insert'>&gt;',</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>'&lt;img</span> <span class='diffobj-word insert'>src</span><span class='diffobj-word insert'>=</span><span class='diffobj-word insert'>"</span><span class='diffobj-word insert'>',</span> <span class='diffobj-word insert'>logo_src</span><span class='diffobj-word insert'>[.x],</span> <span class='diffobj-word insert'>'</span><span class='diffobj-word insert'>"</span> <span class='diffobj-word insert'>height</span><span class='diffobj-word insert'>=50&gt;&lt;br&gt;&lt;span&gt;',</span> <span class='diffobj-word insert'>.x</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>'&lt;/span&gt;&lt;/div&gt;'</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>rlang</span><span class='diffobj-word insert'>::set_names(team_order)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  gt_table &lt;- gt<span class='diffobj-word insert'>::gt(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>filtered_df</span> %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(Team</span> = <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::recode(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>                                                    "Proj Record" = "Projected Record",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>                                                    "Wins vs. Proj" = "Wins vs. Projection",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-header'>@@ 109,97 / 423,87 @@</div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>                                                    "Proj Playoff %" = "Projected Playoff %",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>                                                    "Playoff % Diff" = "Playoff % vs. Projection"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>)))</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_header</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>title</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>md</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"&lt;div style='font-size:60px; font-weight:bold; color:white;'&gt;Current Team Standings&lt;/div&gt;"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>style</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>cell_fill</span><span class='diffobj-word delete'>(color</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"black"</span><span class='diffobj-word delete'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>locations</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>cells_title</span><span class='diffobj-word delete'>(groups</span> = <span class='diffobj-word delete'>"title"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_header(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>title</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::md(</span><span class='diffobj-word insert'>"&lt;div style='font-size:60px; font-weight:bold; color:white;'&gt;Current Team Standings&lt;/div&gt;"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>list</span><span class='diffobj-word delete'>(cell_text(align</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"center"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>weight</span> = <span class='diffobj-word delete'>"bold"</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>size</span> = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(20))),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> = <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>(columns</span> = <span class='diffobj-word delete'>everything</span><span class='diffobj-word delete'>())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> = <span class='diffobj-word insert'>"title"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style = <span class='diffobj-word delete'>cell_text</span><span class='diffobj-word delete'>(align</span> = "center", weight = "bold", size = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(20)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(align</span> = "center", weight = "bold", size = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(20))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_column_labels</span><span class='diffobj-word delete'>(columns</span> = <span class='diffobj-word delete'>everything</span><span class='diffobj-word delete'>())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>cols_width</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>Team</span> <span class='diffobj-word delete'>~</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(180),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>everything</span><span class='diffobj-word delete'>()</span> <span class='diffobj-word delete'>~</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(120)</span>  <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>wider</span> <span class='diffobj-word delete'>columns</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>size</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(20)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>cols_label</span><span class='diffobj-word delete'>(.list</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>header_with_logos</span><span class='diffobj-word delete'>)</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_options</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>data_row.padding</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(25),</span>         <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>tighter</span> <span class='diffobj-word delete'>rows</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>heading.padding</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(10),</span>         <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>tighter</span> <span class='diffobj-word delete'>heading</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>column_labels.padding</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(4),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>table.width</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>pct</span><span class='diffobj-word delete'>(90),</span>            <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>wider</span> <span class='diffobj-word delete'>table</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>column_labels.border.top.width</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>table.border.top.width</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>row_group.border.top.width</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>row_group.border.bottom.width</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(0)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_width(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Team</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(180),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything()</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(120)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>opt_table_font</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>font</span> = <span class='diffobj-word delete'>google_font</span><span class='diffobj-word delete'>(name</span> = <span class='diffobj-word delete'>"Quicksand"</span><span class='diffobj-word delete'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>weight</span> = <span class='diffobj-word delete'>"bold"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_label(.list</span> = <span class='diffobj-word insert'>header_with_logos</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_options(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>data_row.padding</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(25),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>heading.padding</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(10),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>column_labels.padding</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(4),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table.width</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::pct(90),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>column_labels.border.top.width</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table.border.top.width</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>row_group.border.top.width</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(0),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>row_group.border.bottom.width</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(0)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_source_note</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>embed_quicksand_or_fallback</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_source_note(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    source_note = <span class='diffobj-word delete'>html</span><span class='diffobj-word delete'>(</span>"&lt;div style='text-align:center; color:black;'&gt;* Projections from preseason. Red = Outperforming &amp; Blue = Underperforming.&lt;/div&gt;")<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      source_note = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span>"&lt;div style='text-align:center; color:black;'&gt;* Projections from preseason. Red = Outperforming &amp; Blue = Underperforming.&lt;/div&gt;")<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    style = list(<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>cell_text</span><span class='diffobj-word delete'>(align</span> = "center", color = "black"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(align</span> = "center", color = "black"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>cell_borders</span><span class='diffobj-word delete'>(sides</span> = "bottom", color = "black", weight = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(10))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> = "bottom", color = "black", weight = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(10))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    ),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_source_notes</span><span class='diffobj-word delete'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_source_notes()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;% <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style = <span class='diffobj-word delete'>cell_borders</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>sides</span> = "bottom",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      color = "black",<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      weight = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(10)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> = "bottom", color = "black", weight = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(10)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_title</span><span class='diffobj-word delete'>(groups</span> = "title")<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> = "title")<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>text_transform</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>columns</span> = Team,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      rows = Team == "Current Playoff %"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    ),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::text_transform(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> = Team, rows = Team == "Current Playoff %"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    fn = function(x) {<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>      "Current&lt;br&gt;Playoff %"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    }<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>)</span> <span class='diffobj-word delete'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>fmt_markdown</span><span class='diffobj-word delete'>(columns</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>Team</span><span class='diffobj-word delete'>,</span> <span class='diffobj-word delete'>rows</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>Team</span> <span class='diffobj-word delete'>==</span> <span class='diffobj-word delete'>"Current Playoff %"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>text_transform</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    <span class='diffobj-word delete'>locations</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_markdown(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>      columns = Team,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      rows = Team == "Projected Playoff %"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    ),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      rows = Team == <span class='diffobj-word insert'>"Current Playoff %"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::text_transform(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>rows</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span> <span class='diffobj-word insert'>==</span> "Projected Playoff %"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    fn = function(x) {<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>      "Projected&lt;br&gt;Playoff %"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    }<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>fmt_markdown</span><span class='diffobj-word delete'>(columns</span> = Team, rows = Team == "Projected Playoff %")<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_markdown(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> = Team,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      rows = Team == "Projected Playoff %"<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    )<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>12:</span> <span class='diffobj-word delete'>Conditional</span> <span class='diffobj-word delete'>formatting</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>for (row_label in c("Wins vs. Projection", "Playoff % vs. Projection")) {<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  for (team_col in team_order) {<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>    gt_table &lt;- gt_table %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>        style = <span class='diffobj-word delete'>cell_fill</span><span class='diffobj-word delete'>(color</span> = "#ff9999"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> = "#ff9999"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>        locations = <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>          columns = team_col,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>          rows = Team == row_label &amp; as.numeric(gsub("[^0-9.-]", "", .data[[team_col]])) &gt; 0<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>        )<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>      ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>      <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>        style = <span class='diffobj-word delete'>cell_fill</span><span class='diffobj-word delete'>(color</span> = "#99ccff"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> = "#99ccff"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>        locations = <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>          columns = team_col,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>          rows = Team == row_label &amp; as.numeric(gsub("[^0-9.-]", "", .data[[team_col]])) &lt; 0<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-header'>@@ 209,44 / 513,507 @@</div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>}<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>13:</span> <span class='diffobj-word delete'>Add</span> <span class='diffobj-word delete'>lightgray</span> <span class='diffobj-word delete'>borders</span> <span class='diffobj-word delete'>&amp;</span> <span class='diffobj-word delete'>style</span> <span class='diffobj-word delete'>column</span> <span class='diffobj-word delete'>headers</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>gt_table &lt;- gt_table %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style = <span class='diffobj-word delete'>cell_borders</span><span class='diffobj-word delete'>(color</span> = "lightgray", sides = c("top", "bottom", "left", "right")),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(color</span> = "lightgray", sides = c("top", "bottom", "left", "right")),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_body</span><span class='diffobj-word delete'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style = <span class='diffobj-word delete'>cell_borders</span><span class='diffobj-word delete'>(sides</span> = "bottom", color = "black", weight = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(5)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> = "bottom", color = "black", weight = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(5)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_column_labels</span><span class='diffobj-word delete'>(columns</span> = <span class='diffobj-word delete'>everything</span><span class='diffobj-word delete'>())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(columns</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  ) %&gt;%<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>tab_style</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    style = <span class='diffobj-word delete'>cell_text</span><span class='diffobj-word delete'>(size</span> = <span class='diffobj-word delete'>px</span><span class='diffobj-word delete'>(20),</span> weight = "bold"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      style = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(size</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(20),</span> weight = "bold"),<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>    locations = <span class='diffobj-word delete'>cells_column_labels</span><span class='diffobj-word delete'>(columns</span> = <span class='diffobj-word delete'>everything</span><span class='diffobj-word delete'>())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      locations = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(columns</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>  )<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>gt_table<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Step</span> <span class='diffobj-word delete'>14:</span> <span class='diffobj-word delete'>Save</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>saveRDS</span><span class='diffobj-word delete'>(gt_table,</span> <span class='diffobj-word delete'>file</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"EOS Team Update NLW.rds"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>gt_table</span> <span class='diffobj-word delete'>&lt;-</span> <span class='diffobj-word delete'>readRDS</span><span class='diffobj-word delete'>(</span><span class='diffobj-word delete'>"EOS Team Update NLW.rds"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>===========================</span> <span class='diffobj-word insert'>HITTERS</span> <span class='diffobj-word insert'>BUILDER</span> <span class='diffobj-word insert'>==========================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>gtsave</span><span class='diffobj-word delete'>(gt_table,</span> <span class='diffobj-word delete'>filename</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"EOS Team Update NLW.png"</span><span class='diffobj-word delete'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>gtsave</span><span class='diffobj-word delete'>(gt_table,</span> <span class='diffobj-word delete'>filename</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"EOS Team Update NLW.html"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>get_color</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(diff)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::case_when(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>20</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ff6666"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>11</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ff9999"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>1</span>   <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ffcccc"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-20</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#66b2ff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-11</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#99ccff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-1</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#cce5ff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>TRUE</span>        <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  )<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>webshot</span><span class='diffobj-word delete'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>url</span> <span class='diffobj-word delete'>=</span> <span class='diffobj-word delete'>"EOS Team Update NLW.html"</span>,<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>file</span> = <span class='diffobj-word delete'>"EOS Team Update NLW.png"</span><span class='diffobj-word delete'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>vwidth</span> = <span class='diffobj-word delete'>1030,</span>     <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>render</span> <span class='diffobj-word delete'>bigger</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>vheight</span> = <span class='diffobj-word delete'>976,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span>  <span class='diffobj-word delete'>zoom</span> = <span class='diffobj-word delete'>0.5</span>         <span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>then</span> <span class='diffobj-word delete'>shrink</span> <span class='diffobj-word delete'>down</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>apply_cell_fill</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(gt_table,</span> <span class='diffobj-word insert'>column</span>, <span class='diffobj-word insert'>colors</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>(i</span> <span class='diffobj-word insert'>in</span> <span class='diffobj-word insert'>seq_along</span><span class='diffobj-word insert'>(colors))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>style</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> = <span class='diffobj-word insert'>colors</span><span class='diffobj-word insert'>[i]),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>locations</span> = <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> = <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::all_of(column),</span> <span class='diffobj-word insert'>rows</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>i</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'><span class='diffobj-trim'></span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>file_name</span> &lt;- <span class='diffobj-word delete'>"EOS Team Update NLW"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>cat</span><span class='diffobj-word delete'>(sprintf(</span><span class='diffobj-word delete'>"✅ Saved PNG at 515x488: %s\n"</span>, <span class='diffobj-word delete'>file_name</span>))<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>#</span> <span class='diffobj-word delete'>Optional</span><span class='diffobj-word delete'>:</span> <span class='diffobj-word delete'>also</span> <span class='diffobj-word delete'>save</span> <span class='diffobj-word delete'>as</span> <span class='diffobj-word delete'>PNG</span> <span class='diffobj-word delete'>(requires</span> <span class='diffobj-word delete'>webshot</span> <span class='diffobj-word delete'>or</span> <span class='diffobj-word delete'>chromote</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>add_ellipsis_to_column</span> &lt;- <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(gt_table,</span> <span class='diffobj-word insert'>column</span>, <span class='diffobj-word insert'>max_width_px</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>160)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>col_quo</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>rlang</span><span class='diffobj-word insert'>::enquo(column)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::text_transform(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>!!col_quo),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>fn</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>vapply</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(name)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(paste0(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>"&lt;span style='display:inline-block; max-width:"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>max_width_px</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>"px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;'&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>name</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>"&lt;/span&gt;"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            ))<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>},</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>FUN.VALUE</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span><span class='diffobj-word insert'>""</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>gtsave</span><span class='diffobj-word delete'>(gt_table,</span> <span class='diffobj-word delete'>filename</span> = <span class='diffobj-word delete'>"EOS Team Update NLW.png"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='delete'><div class='diffobj-gutter'><div class='delete'>&lt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='delete'><span class='diffobj-trim'></span><span class='diffobj-word delete'>gtsave</span><span class='diffobj-word delete'>(gt_table,</span> <span class='diffobj-word delete'>filename</span> = <span class='diffobj-word delete'>"EOS Team Update NLW.html"</span>)<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>build_hitters_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(df_input,</span> <span class='diffobj-word insert'>league</span> = <span class='diffobj-word insert'>"AL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"W"</span>) <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>Division</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df_input</span> <span class='diffobj-word insert'>%&gt;%</span> <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::filter(League</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Division</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>wide</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>Division</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(Team,</span> <span class='diffobj-word insert'>Player</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Range</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>AVG</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>OBP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>SLG</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>wOBA</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>`wRC+`,</span> <span class='diffobj-word insert'>`K%`,</span> <span class='diffobj-word insert'>`BB%`,</span> <span class='diffobj-word insert'>WAR</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Games</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::distinct()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>tidyr</span><span class='diffobj-word insert'>::pivot_wider(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>names_from</span> = <span class='diffobj-word insert'>Range</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>values_from</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(AVG,</span> <span class='diffobj-word insert'>OBP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>SLG</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>wOBA</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>`wRC+`,</span> <span class='diffobj-word insert'>`K%`,</span> <span class='diffobj-word insert'>`BB%`,</span> <span class='diffobj-word insert'>WAR</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Games</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>names_sep</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"_"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>logos</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>get_logo_map</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>formatted</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>wide</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(Logo</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>logos</span><span class='diffobj-word insert'>[Team],</span> <span class='diffobj-word insert'>.before</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(Team</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Logo</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>AVG_diff</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(AVG_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>AVG_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>AVG_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>OBP_diff</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(OBP_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>OBP_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>OBP_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>SLG_diff</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(SLG_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>SLG_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>SLG_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wOBA_diff</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(wOBA_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>wOBA_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>wOBA_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>K_diff</span>       <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(`K%_Projected`</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>`K%_Current`)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>`K%_Projected`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>BB_diff</span>      <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(`BB%_Current`</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>`BB%_Projected`)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>`BB%_Projected`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wRC_diff</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(`wRC+_Current`</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>`wRC+_Projected`)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>`wRC+_Projected`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_adj_diff</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(((WAR_Current</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>Games_Current</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>Games_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>WAR_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>abs</span><span class='diffobj-word insert'>(WAR_Projected),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>AVG_color</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(AVG_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>OBP_color</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(OBP_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>SLG_color</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(SLG_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wOBA_color</span>   <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(wOBA_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>K_color</span>      <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(K_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>BB_color</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(BB_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wRC_color</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(wRC_diff),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_color</span>    <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color</span><span class='diffobj-word insert'>(WAR_adj_diff)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    )<span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>formatted</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Player</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>AVG_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>OBP_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>SLG_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`K%_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`BB%_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wOBA_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`wRC+_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_Current</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::gt()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::text_transform(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>fn</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>vapply</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(p)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is_http_url(p)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>file.exists</span><span class='diffobj-word insert'>(p))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::local_image(filename</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>p</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>height</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>30)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::web_image(url</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>p</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>height</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>30)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>},</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>FUN.VALUE</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span><span class='diffobj-word insert'>""</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_label(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>AVG_Current</span>   <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"AVG"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>OBP_Current</span>   <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"OBP"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>SLG_Current</span>   <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"SLG"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>wOBA_Current</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"wOBA"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`wRC+_Current`</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"wRC+"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`K%_Current`</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"K%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`BB%_Current`</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"BB%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_Current</span>   <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"WAR"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_width(Player</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(180))</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_align(align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_header(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>title</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span><span class='diffobj-word insert'>"&lt;span style='font-size: 32px; font-weight: bold; color: white;'&gt;Current Batting Stats&lt;/span&gt;"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>subtitle</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"Colored by Performance vs Projection (WAR adjusted per game)"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>embed_quicksand_or_fallback</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"title"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(size</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(18)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(size</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(18)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_options(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>heading.align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table.align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>data_row.padding</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(12),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table_body.hlines.color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"lightgray"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bottom"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"red"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(5)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"all"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"lightgray"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(1)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"right"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"transparent"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(1)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_number(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(AVG_Current,</span> <span class='diffobj-word insert'>OBP_Current</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>SLG_Current</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>wOBA_Current</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>decimals</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>3</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_number(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(`K%_Current`,</span> <span class='diffobj-word insert'>`BB%_Current`,</span> <span class='diffobj-word insert'>WAR_Current</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>decimals</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>1</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_number(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>`wRC+_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>decimals</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>0</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"AVG_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$AVG_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"OBP_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$OBP_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"SLG_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$SLG_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"wOBA_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$wOBA_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"wRC+_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$wRC_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"K%_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$K_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"BB%_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$BB_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"WAR_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>formatted</span><span class='diffobj-word insert'>$WAR_color)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"title"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_stub(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_row_groups()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_source_note(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>source_note</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(paste0(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;div style='text-align:center; font-weight:bold;'&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;strong style='font-size:14px;'&gt;Legend (Difference from Projection):&lt;/strong&gt;&lt;br&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;table style='margin:auto; border-collapse:separate; border-spacing:2px;'&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;tr&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#66b2ff; width:90px; height:18px; font-size:12px;'&gt;&amp;lt; −20%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#99ccff; width:90px; height:18px; font-size:12px;'&gt;−19% to −11%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#cce5ff; width:90px; height:18px; font-size:12px;'&gt;−10% to −1%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:white;    width:90px; height:18px; font-size:12px;'&gt;0%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ffcccc;  width:90px; height:18px; font-size:12px;'&gt;+1% to +10%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ff9999;  width:90px; height:18px; font-size:12px;'&gt;+11% to +19%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ff6666;  width:90px; height:18px; font-size:12px;'&gt;&amp;gt; +20%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/tr&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/table&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/div&gt;"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>%&gt;%</span> <span class='diffobj-word insert'>add_ellipsis_to_column</span><span class='diffobj-word insert'>(Player,</span> <span class='diffobj-word insert'>max_width_px</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>160)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>===========================</span> <span class='diffobj-word insert'>PITCHERS</span> <span class='diffobj-word insert'>BUILDER</span> <span class='diffobj-word insert'>=========================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='diffobj-match'><div class='diffobj-gutter'><div class='diffobj-match'>&nbsp;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='diffobj-match'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>get_color_pitch</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(diff,</span> <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(better_lower)</span> <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>-diff</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::case_when(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>20</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ff6666"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>11</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ff9999"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&gt;=</span> <span class='diffobj-word insert'>1</span>   <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#ffcccc"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-20</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#66b2ff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-11</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#99ccff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>diff</span> <span class='diffobj-word insert'>&lt;=</span> <span class='diffobj-word insert'>-1</span>  <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"#cce5ff"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>TRUE</span>        <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>build_pitchers_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(df_input,</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"AL"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"E"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>Division_Filter</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>df_input</span> <span class='diffobj-word insert'>%&gt;%</span> <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::filter(League</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Division</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>Wide_Table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>Division_Filter</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(Team,</span> <span class='diffobj-word insert'>Player</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Range</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>ERA</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>FIP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>`K%`,</span> <span class='diffobj-word insert'>`BB%`,</span> <span class='diffobj-word insert'>WHIP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>WAR</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Games</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::distinct()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>tidyr</span><span class='diffobj-word insert'>::pivot_wider(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>names_from</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Range</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>values_from</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(ERA,</span> <span class='diffobj-word insert'>FIP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>`K%`,</span> <span class='diffobj-word insert'>`BB%`,</span> <span class='diffobj-word insert'>WHIP</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>WAR</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Games</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>names_sep</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"_"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>logos</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>get_logo_map</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>Formatted_Table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>Wide_Table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(Logo</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>logos</span><span class='diffobj-word insert'>[Team],</span> <span class='diffobj-word insert'>.before</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(Team</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Logo</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::mutate(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>ERA_diff</span>              <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(ERA_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>ERA_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>ERA_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>FIP_diff</span>              <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(FIP_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>FIP_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>FIP_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>K_diff</span>                <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>((`K%_Current`</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>`K%_Projected`)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>`K%_Projected`),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>BB_diff</span>               <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>((`BB%_Current`</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>`BB%_Projected`)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>`BB%_Projected`),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WHIP_diff</span>             <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(WHIP_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>WHIP_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>WHIP_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_diff</span>              <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(WAR_Current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>WAR_Projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>WAR_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_per_game_current</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>WAR_Current</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>Games_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_per_game_projected</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>WAR_Projected</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>Games_Projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Adjusted_WAR_diff</span>     <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>100</span> <span class='diffobj-word insert'>*</span> <span class='diffobj-word insert'>(WAR_per_game_current</span> <span class='diffobj-word insert'>-</span> <span class='diffobj-word insert'>WAR_per_game_projected</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>/</span> <span class='diffobj-word insert'>WAR_per_game_projected</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>ERA_color</span>             <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(ERA_diff,</span>  <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>FIP_color</span>             <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(FIP_diff,</span>  <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>K_color</span>               <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(K_diff,</span>    <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>BB_color</span>              <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(BB_diff,</span>   <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WHIP_color</span>            <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(WHIP_diff,</span> <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_color</span>             <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>get_color_pitch</span><span class='diffobj-word insert'>(Adjusted_WAR_diff,</span> <span class='diffobj-word insert'>better_lower</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>Formatted_Table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>dplyr</span><span class='diffobj-word insert'>::select(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>Player</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>ERA_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>FIP_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`K%_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`BB%_Current`,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WHIP_Current</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_Current</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::gt()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::text_transform(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>fn</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(x)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>vapply</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>x</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(p)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is_http_url(p)</span> <span class='diffobj-word insert'>&amp;&amp;</span> <span class='diffobj-word insert'>file.exists</span><span class='diffobj-word insert'>(p))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::local_image(filename</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>p</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>height</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>30)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>              <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::web_image(url</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>p</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>height</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>30)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>            <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>},</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>          <span class='diffobj-word insert'>FUN.VALUE</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span><span class='diffobj-word insert'>""</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_label(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>ERA_Current</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"ERA"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>FIP_Current</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"FIP"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`K%_Current`</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"K%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>`BB%_Current`</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"BB%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WHIP_Current</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"WHIP"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>WAR_Current</span>  <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"WAR"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_align(align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cols_width(Player</span> <span class='diffobj-word insert'>~</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(205))</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_header(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>title</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(</span><span class='diffobj-word insert'>"&lt;span style='font-size: 32px; font-weight: bold; color: white;'&gt;Current Pitching Stats&lt;/span&gt;"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>subtitle</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"Colored by Performance vs Projection"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>embed_quicksand_or_fallback</span><span class='diffobj-word insert'>()</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"title"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_fill(color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(size</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(18)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(size</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(18)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_options(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>heading.align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table.align</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"center"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>data_row.padding</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(12),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>table_body.hlines.color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"lightgray"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bottom"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"red"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(5)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"all"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"lightgray"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(1)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::everything())</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_borders(sides</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"right"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"transparent"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::px(1)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>Team</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_number(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(ERA_Current,</span> <span class='diffobj-word insert'>FIP_Current</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>WHIP_Current</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>decimals</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>2</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::fmt_number(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>columns</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(`K%_Current`,</span> <span class='diffobj-word insert'>`BB%_Current`,</span> <span class='diffobj-word insert'>WAR_Current</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>decimals</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>1</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>for</span> <span class='diffobj-word insert'>(spec</span> <span class='diffobj-word insert'>in</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"ERA_Current"</span><span class='diffobj-word insert'>,</span>  <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$ERA_color),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"FIP_Current"</span><span class='diffobj-word insert'>,</span>  <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$FIP_color),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"K%_Current"</span><span class='diffobj-word insert'>,</span>   <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$K_color),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"BB%_Current"</span><span class='diffobj-word insert'>,</span>  <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$BB_color),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"WHIP_Current"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$WHIP_color),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"WAR_Current"</span><span class='diffobj-word insert'>,</span>  <span class='diffobj-word insert'>Formatted_Table</span><span class='diffobj-word insert'>$WAR_color)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>apply_cell_fill</span><span class='diffobj-word insert'>(gt_table,</span> <span class='diffobj-word insert'>spec</span><span class='diffobj-word insert'>[[1]],</span> <span class='diffobj-word insert'>spec</span><span class='diffobj-word insert'>[[2]])</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>gt_table</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_style(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>style</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cell_text(weight</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"bold"</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>locations</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>list</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_title(groups</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"title"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"subtitle"</span><span class='diffobj-word insert'>)),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_column_labels(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_body(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_stub(),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::cells_row_groups()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::tab_source_note(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>source_note</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::html(paste0(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;div style='text-align:center; font-weight:bold;'&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;strong style='font-size:14px;'&gt;Legend (Difference from Projection):&lt;/strong&gt;&lt;br&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;table style='margin:auto; border-collapse:separate; border-spacing:2px;'&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;tr&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#66b2ff; width:90px; height:18px; font-size:12px;'&gt;&amp;lt; −20%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#99ccff; width:90px; height:18px; font-size:12px;'&gt;−19% to −11%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#cce5ff; width:90px; height:18px; font-size:12px;'&gt;−10% to −1%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:white;    width:90px; height:18px; font-size:12px;'&gt;0%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ffcccc;  width:90px; height:18px; font-size:12px;'&gt;+1% to +10%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ff9999;  width:90px; height:18px; font-size:12px;'&gt;+11% to +19%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;td style='background-color:#ff6666;  width:90px; height:18px; font-size:12px;'&gt;&amp;gt; +20%&lt;/td&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/tr&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/table&gt;"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>        <span class='diffobj-word insert'>"&lt;/div&gt;"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>%&gt;%</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>add_ellipsis_to_column</span><span class='diffobj-word insert'>(Player,</span> <span class='diffobj-word insert'>max_width_px</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>185)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt_table</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>#</span> <span class='diffobj-word insert'>============================</span> <span class='diffobj-word insert'>RENDER</span> <span class='diffobj-word insert'>WRAPPER</span> <span class='diffobj-word insert'>==========================</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'>&nbsp;</div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>run_with_excel</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>function</span><span class='diffobj-word insert'>(input_xlsx,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>sheet</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>kind</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"teams"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>output_png</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>output_html</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>                           <span class='diffobj-word insert'>baseline</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>NA_character_</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>deterministic_session</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!file.exists(input_xlsx))</span> <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(sprintf(</span><span class='diffobj-word insert'>"Excel not found: %s"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>input_xlsx</span><span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>ensure_parent_dir</span><span class='diffobj-word insert'>(output_png)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>ensure_parent_dir</span><span class='diffobj-word insert'>(output_html)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>df</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>readxl</span><span class='diffobj-word insert'>::read_excel(input_xlsx,</span> <span class='diffobj-word insert'>sheet</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>sheet</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>.name_repair</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"minimal"</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(tolower(kind)</span> <span class='diffobj-word insert'>%in%</span> <span class='diffobj-word insert'>c</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"teams"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>"standings"</span><span class='diffobj-word insert'>))</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>tbl</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>build_teams_table</span><span class='diffobj-word insert'>(df,</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>1774</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>1696</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(tolower(kind)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"hitters"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>tbl</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>build_hitters_table</span><span class='diffobj-word insert'>(df,</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>1366</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>954</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(tolower(kind)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"pitchers"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>tbl</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>build_pitchers_table</span><span class='diffobj-word insert'>(df,</span> <span class='diffobj-word insert'>league</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>league</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>division</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>division</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_w</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>1366</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_h</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>954</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>stop</span><span class='diffobj-word insert'>(</span><span class='diffobj-word insert'>"Unknown kind."</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::gtsave(tbl,</span> <span class='diffobj-word insert'>filename</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>output_html</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>ensure_png_backend</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>R.utils</span><span class='diffobj-word insert'>::withTimeout(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>{</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>      <span class='diffobj-word insert'>gt</span><span class='diffobj-word insert'>::gtsave(tbl,</span> <span class='diffobj-word insert'>filename</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>output_png</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>},</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>timeout</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>60,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>onTimeout</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"error"</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>normalize_png</span><span class='diffobj-word insert'>(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>in_path</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>output_png</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>out_path</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>output_png</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_w</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>target_w</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>target_h</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>target_h</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>gravity</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"north"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"white"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>trim_white</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>trim_fuzz</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"3%"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>preserve_edges</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>TRUE</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>add_inner_keyline</span><span class='diffobj-word insert'>(output_png,</span> <span class='diffobj-word insert'>color</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>"black"</span><span class='diffobj-word insert'>,</span> <span class='diffobj-word insert'>lwd</span> <span class='diffobj-word insert'>=</span> <span class='diffobj-word insert'>1)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>backend</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>detect_png_backend</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>kind_name</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>tools</span><span class='diffobj-word insert'>::toTitleCase(if</span> <span class='diffobj-word insert'>(tolower(kind)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"teams"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>"teams"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>kind</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>message</span><span class='diffobj-word insert'>(sprintf(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"✅ Done [%s].\n  PNG:  %s\n  HTML: %s\n  Backend: %s"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>kind_name</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>normalizePath</span><span class='diffobj-word insert'>(output_png,</span>  <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>normalizePath</span><span class='diffobj-word insert'>(output_html,</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>backend</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>if</span> <span class='diffobj-word insert'>(!is.na(baseline))</span> <span class='diffobj-word insert'>maybe_check_html_baseline</span><span class='diffobj-word insert'>(output_html,</span> <span class='diffobj-word insert'>baseline</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>backend</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>detect_png_backend</span><span class='diffobj-word insert'>()</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>kind_name</span> <span class='diffobj-word insert'>&lt;-</span> <span class='diffobj-word insert'>tools</span><span class='diffobj-word insert'>::toTitleCase(if</span> <span class='diffobj-word insert'>(tolower(kind)</span> <span class='diffobj-word insert'>==</span> <span class='diffobj-word insert'>"teams"</span><span class='diffobj-word insert'>)</span> <span class='diffobj-word insert'>"teams"</span> <span class='diffobj-word insert'>else</span> <span class='diffobj-word insert'>kind</span><span class='diffobj-word insert'>)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>message</span><span class='diffobj-word insert'>(sprintf(</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>"✅ Done [%s].\n  PNG:  %s\n  HTML: %s\n  Backend: %s"</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>kind_name</span><span class='diffobj-word insert'>,</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>normalizePath</span><span class='diffobj-word insert'>(output_png,</span>  <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>normalizePath</span><span class='diffobj-word insert'>(output_html,</span> <span class='diffobj-word insert'>FALSE</span><span class='diffobj-word insert'>),</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>    <span class='diffobj-word insert'>backend</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>))</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span>  <span class='diffobj-word insert'>invisible</span><span class='diffobj-word insert'>(tbl)</span><span class='diffobj-trim'></span></div></div></div></div></div><div class='diffobj-row'><div class='diffobj-line'><div class='insert'><div class='diffobj-gutter'><div class='insert'>&gt;</div><div class='pad'> </div></div><div class='diffobj-text'><div class='insert'><span class='diffobj-trim'></span><span class='diffobj-word insert'>}</span><span class='diffobj-trim'></span></div></div></div></div></div></pre></div>